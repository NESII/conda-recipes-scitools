language: python
python:
  - 2.7

env:
    global:
        # Add the BINSTAR_TOKEN environment variable. This has been generated with "binstar auth --create" and is valid for the next 12 months.
        secure: "cvpRLdd5s/iCX6/fLuU5WfWHfCk8QkJkCHQ5jnfuyGhPFhWNWXf4/HtB7mU+rBK4rX0ki/pIW8X7Awz4qnZdENAfeAGt+yA126afApYoEhVUwsNp57XRz4u8YhQwPj0m/AqdDGtI+l8zhuQkekSIRqBqAHg2jgZOkEr1dUqtCXU="

install:
    - cd util/travis-ci
    - source install_conda.sh
    - # Replace the ssh protocol with https for all non-private files.
    - find * -type f -exec sed -i 's/git\@github.com\:/https\:\/\/github\.com\//g' {} \;


script:
    - python build_all.py

after-success:
    - echo "Celebrate (and maybe do the same thing on OSX?)!"
    - # ln -s util/travis\-ci/travis.osx.yml .travis.yml -f
    -
    - # Upload to binstar.
    - # python upload_all.py
